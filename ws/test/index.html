<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Testing Messaging WebSockets</title>
		<style>
			h1 {
				text-align: center;
			}
			pre {
				border: 1px solid black;
				padding: 5px;
				margin: 20px;
			}
		</style>
	</head>
	<body>
		<h1 id="title">Testing Messaging WebSockets</h1>
		<pre id="output"></pre>
		<script>
			(function(c, l, e) {
				document.getElementById('title').style.backgroundColor = "yellow";
				c.log = function() {
					e.innerText += arguments[0] + "\n"; // TODO: handle larger argument streams
					if (arguments[0] == "PASS") {
						document.getElementById('title').style.backgroundColor = "lightgreen";
						c.log = l; // undo nasty hack
					} else if (arguments[0] == "FAIL") {
						document.getElementById('title').style.backgroundColor = "red";
						c.log = l; // undo nasty hack
					}
					l.apply(c, arguments);
				};
			})(console, console.log, document.getElementById('output'));
		</script>
		<script src="client.js"></script>
	</body>
</html>
